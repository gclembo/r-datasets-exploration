#| label: setup
#| warning: false
library(tidyverse)
#| label: setup
#| warning: false
library(tidyverse)
#| label: exploration
sleep |>
names()
sleep |>
head() |>
knitr::kable()
#| label: exploration
#| warning: false
sleep |>
names()
sleep |>
head() |>
knitr::kable()
#| label: setup
#| warning: false
library(tidyverse)
#| label: exploration
#| warning: false
sleep |>
names()
sleep |>
head() |>
knitr::kable()
#| label: setup
#| warning: false
library(tidyverse)
#| label: exploration
#| warning: false
sleep |>
names()
sleep |>
head() |>
knitr::kable()
#| label: fig-sleep-distribution
#| fig-cap: Sleep Data Distributions
sleep |>
ggplot(aes(x = extra, y = group)) +
geom_boxplot(aes(fill = group)) +
geom_point() +
labs(
title = "Change in Hours of Sleep of Two Drugs",
x = "Change in Hours Slept", y = "Drug Treatment",
caption = "Source: Cushny, A. R. and Peebles, A. R. (1905)
The action of optical isomers: II hyoscines.
The Journal of Physiology 32, 501–510."
) +
theme_bw() +
theme(legend.position = "none") +
scale_y_discrete(labels = c("Drug 1", "Drug 2")) +
scale_x_continuous(breaks = scales::pretty_breaks(n = 8))
#| label: differences
differences <- sleep |>
pivot_wider(
names_from = group,
values_from = extra
) |>
mutate(
diff = `1` - `2`,
.keep = "none"
)
#| label: normality-test
differences$diff |>
shapiro.test()
#| label: test-method-2
t.test(
extra ~ group,
data = sleep,
paired = TRUE,
alternative = "two.sided",
mu = 0,
conf.level = 0.95
)
?sleep_wider
?sleep_wider()
?pivot_wider()
#| label: setup
#| warning: false
library(tidyverse)
#| label: exploration
#| warning: false
sleep |>
names()
sleep |>
head() |>
knitr::kable()
#| label: fig-sleep-distribution
#| fig-cap: Sleep Data Distributions
sleep |>
ggplot(aes(x = extra, y = group)) +
geom_boxplot(aes(fill = group)) +
geom_point() +
labs(
title = "Change in Hours of Sleep of Two Drugs",
x = "Change in Hours Slept", y = "Drug Treatment",
caption = "Source: Cushny, A. R. and Peebles, A. R. (1905)
The action of optical isomers: II hyoscines.
The Journal of Physiology 32, 501–510."
) +
theme_bw() +
theme(legend.position = "none") +
scale_y_discrete(labels = c("Drug 1", "Drug 2")) +
scale_x_continuous(breaks = scales::pretty_breaks(n = 8))
#| label: differences
differences <- sleep |>
pivot_wider(
names_from = group,
values_from = extra
) |>
mutate(
diff = `1` - `2`,
.keep = "none"
)
#| label: normality-test
differences$diff |>
shapiro.test()
#| label: test-method-1
differences |>
t.test(
alternative = "two.sided",
mu = 0,
conf.level = 0.95
)
#| label: test-method-2
sleep_wide <- sleep |>
pivot_wider(
names_from = group,
names_prefix = "drug_",
values_from = extra
)
t.test(
x = drug_1,
y = drug_2,
data = sleep_wide,
paired = TRUE,
alternative = "two.sided",
mu = 0,
conf.level = 0.95
)
t.test(
x = sleep_wide$drug_1,
y = sleep_wide$drug_2,
paired = TRUE,
alternative = "two.sided",
mu = 0,
conf.level = 0.95
)
?t.test()
